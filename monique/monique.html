<html>
<head>
<meta content="text/html;charset=utf-8" http-equiv="Content-Type">
<meta content="utf-8" http-equiv="encoding">
</head>

<body>
<canvas id="canvas" width="1200" height="900"></canvas><br>
</body>

<script type="application/javascript">
let ctx = document.getElementById('canvas').getContext('2d');
ctx.globalCompositeOperation = 'destination-over';
ctx.clearRect(0, 0, 1200, 800); // clear canvas

let x = {};
let y = {};
let wh = {};
let scalex = {};
let scaley = {};
let colors = {0: "white", 1: "yellow", 2: "blue", 3: "red", 4: "green", 5: "orange", 6: "purple"};
let _color = {};
let _scale = {};
let shape = 0;
let color_toggle=0;
let total_shapes=[];

for (var s=1; s<10; s++) { // 10 shapes for now
  x[s] = randomNum();
  y[s] = randomNum();
  wh[s] = randomNum(200);
  scalex[s] = 1;
  scaley[s] = 1;
  _color[s] = "white";
}

function totalShapesUpdate() {
  if (!total_shapes.includes(shape)) {
    total_shapes.push(shape);
  }
}

function randomNum(max=500) {
  return Math.floor(Math.random() * max);
}

function square() {
  ctx.clearRect(0, 0, 1200, 800); // clear canvas

  for (var s=0; s<total_shapes.length; s++) {
    ctx.fillStyle = _color[s+1];
    ctx.fillRect(x[s+1],y[s+1],wh[s+1],wh[s+1]);
    ctx.globalAlpha = 1;
    ctx.globalCompositeOperation = "lighter"
    // ctx.scale(scalex[s+1], scaley[s+1])
    ctx.stroke();
  };

  window.requestAnimationFrame(square);
}

function color(color) {
  _color[shape] = colors[color];
}
//
// function circle(color) {
//     ctx.clearRect(0, 0, 900, 500); // clear canvas
//     var circle = new Path2D();
//     circle.arc(100, 35, 25, 0, 2 * Math.PI);
//     ctx.fill(circle);
//
//     window.requestAnimationFrame(circle);
//     return color + " rondje"
// }

function black() {
  let a = document.querySelector('html');
  a.style.backgroundColor = "black";
}

square();
</script>

</html>
